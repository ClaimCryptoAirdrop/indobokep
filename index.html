<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indotube</title>
    <style>
        /* --- CSS UTAMA --- */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background-color: #0f0f0f; color: #ffffff; font-family: Roboto, Arial, sans-serif; min-height: 100vh; display: flex; flex-direction: column; }

        /* Header */
        header { background-color: #1e1e1e; padding: 15px 20px; position: sticky; top: 0; z-index: 50; box-shadow: 0 2px 5px rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: space-between; }
        .logo { font-size: 24px; font-weight: bold; color: #fff; text-decoration: none; display: flex; align-items: center; gap: 5px; }
        .logo span { color: #ff0000; }
        .header-info { font-size: 12px; color: #aaa; }

        /* Container & Grid */
        .container { max-width: 1280px; margin: 0 auto; padding: 20px; flex: 1; width: 100%; }
        .video-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 20px; margin-bottom: 40px; }
        
        /* Kartu Video */
        .video-card { background-color: transparent; cursor: pointer; transition: transform 0.2s; display: flex; flex-direction: column; }
        .video-card:hover { transform: scale(1.02); }
        .thumbnail-container { position: relative; width: 100%; padding-top: 56.25%; background-color: #333; border-radius: 12px; overflow: hidden; margin-bottom: 12px; }
        .thumbnail-image { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; }
        .video-info { padding: 0 5px; }
        .video-title { font-size: 16px; font-weight: 600; margin-bottom: 6px; line-height: 1.4; max-height: 2.8em; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; color: #fff; }
        .video-meta { font-size: 14px; color: #aaa; }

        /* Pagination */
        .pagination-container { display: flex; justify-content: center; align-items: center; gap: 8px; padding: 30px 0; flex-wrap: wrap; }
        .page-btn { background-color: #222; color: #fff; border: 1px solid #333; padding: 8px 14px; border-radius: 4px; cursor: pointer; font-size: 14px; transition: all 0.2s; min-width: 40px; }
        .page-btn:hover { background-color: #333; }
        .page-btn.active { background-color: #cc0000; border-color: #cc0000; font-weight: bold; }
        .page-btn.dots { border: none; background: none; cursor: default; }
        .page-btn.nav-btn { font-weight: bold; padding: 8px 16px; }

        /* Footer */
        footer { text-align: center; padding: 20px; color: #666; font-size: 12px; border-top: 1px solid #333; margin-top: auto; }

        /* Responsive Mobile */
        @media (max-width: 600px) {
            .video-grid { grid-template-columns: 1fr; }
            .pagination-container { gap: 5px; }
            .page-btn { padding: 6px 10px; font-size: 12px; }
        }

        /* --- POPUP PERINGATAN BROWSER (UPDATED) --- */
        .browser-alert-overlay {
            display: none; /* Hidden by default */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* UPDATE: Lebih terang (0.6) agar konten belakang terlihat samar */
            background-color: rgba(0, 0, 0, 0.6); 
            z-index: 9999;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(4px); /* Efek blur pada background */
        }

        .browser-alert-box {
            background-color: #1f1f1f;
            border: 1px solid #444;
            padding: 30px;
            border-radius: 16px;
            max-width: 90%;
            width: 400px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.5);
            animation: popUp 0.3s ease-out;
        }

        @keyframes popUp {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .alert-icon { font-size: 40px; margin-bottom: 15px; }
        .alert-title { font-size: 20px; font-weight: bold; margin-bottom: 10px; color: #fff; }
        .alert-desc { font-size: 14px; color: #ccc; margin-bottom: 25px; line-height: 1.5; }
        
        .alert-btn-group { display: flex; flex-direction: column; gap: 10px; }
        
        .btn-action {
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            font-size: 14px;
        }

        .btn-copy { background-color: #333; color: #fff; }
        .btn-open { background-color: #cc0000; color: #fff; }
        .btn-close { margin-top: 10px; background: none; border: none; color: #888; cursor: pointer; text-decoration: underline; font-size: 12px; }

    </style>
</head>
<body>

    <header>
        <a href="#" class="logo" onclick="location.reload()">Indo<span>tube</span></a>
        <div class="header-info">Total 100 Halaman</div>
    </header>

    <div class="container">
        <div id="video-grid" class="video-grid"></div>
        <div id="pagination" class="pagination-container"></div>
    </div>

    <footer>&copy; 2026 Indotube. All rights reserved.</footer>

    <!-- POPUP HTML -->
    <div id="browserAlert" class="browser-alert-overlay">
        <div class="browser-alert-box">
            <div class="alert-icon">‚ö†Ô∏è</div>
            <div class="alert-title">Ganti Browser Anda</div>
            <div class="alert-desc">
                Tampilan tidak optimal di aplikasi ini. <br>
                Mohon pindah ke <b>Chrome</b> atau <b>Safari</b>.
            </div>
            <div class="alert-btn-group">
                <button class="btn-action btn-copy" onclick="copyCurrentUrl()">üìã Salin Link</button>
                <button class="btn-action btn-open" onclick="tryOpenExternal()">üåê Buka di Chrome/Safari</button>
                <button class="btn-close" onclick="closePopup()">Tutup (Muncul lagi dlm 3s)</button>
            </div>
        </div>
    </div>

    <script>
        // --- KONFIGURASI VIDEO ---
        const ITEMS_PER_PAGE = 9;
        const TARGET_PAGES = 100;
        const TOTAL_VIDEOS = ITEMS_PER_PAGE * TARGET_PAGES;
        const TARGET_URL = "https://wa-6285749396969.github.io/recipes/";

        // Database Judul
        const baseTitles = [
            "Resep Rahasia Masakan Nusantara", "Tutorial Coding untuk Pemula", "Vlog Perjalanan ke Bali",
            "Review Gadget Terbaru 2026", "Tips Sukses Bisnis Online", "Highlights Sepak Bola Tadi Malam",
            "Musik Pengantar Tidur", "Cara Membuat Website Gratis", "Kucing Lucu Kompilasi",
            "Berita Terkini Hari Ini", "Gaming Live Stream", "Tutorial Makeup Natural",
            "DIY Kerajinan Tangan", "Podcast Misteri", "Latihan Fitness di Rumah",
            "Mobil Sport Tercepat", "Eksperimen Sains Gila", "Jalan-Jalan Kuliner",
            "Film Pendek Inspiratif", "Belajar Bahasa Inggris", "Investasi Saham Pemula",
            "Fotografi Smartphone", "Desain Rumah Minimalis", "Komedi Stand Up",
            "Sejarah Dunia yang Hilang", "Teknologi Masa Depan", "Review Makanan Pedas",
            "Tutorial Edit Video", "Kehidupan Desa yang Tenang", "Meditasi 10 Menit"
        ];

        let videos = [];
        let currentPage = 1;

        // --- FUNGSI VIDEO & PAGINATION ---
        function getRandomInt(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }
        function formatViews(num) { return (num / 1000).toFixed(1) + 'K'; }

        function initVideos() {
            videos = [];
            for (let i = 0; i < TOTAL_VIDEOS; i++) {
                const title = baseTitles[getRandomInt(0, baseTitles.length - 1)];
                const imgId = getRandomInt(1, 1000); 
                const thumbnail = `https://picsum.photos/seed/${imgId}/640/360`;
                const views = formatViews(getRandomInt(10000, 100000));

                videos.push({
                    id: i, title: title, thumbnail: thumbnail, views: views, link: TARGET_URL
                });
            }
        }

        function renderPage(page) {
            const grid = document.getElementById('video-grid');
            grid.innerHTML = '';
            window.scrollTo({ top: 0, behavior: 'smooth' });

            const start = (page - 1) * ITEMS_PER_PAGE;
            const end = start + ITEMS_PER_PAGE;
            const pageItems = videos.slice(start, end);

            pageItems.forEach(video => {
                const card = document.createElement('div');
                card.className = 'video-card';
                card.onclick = () => window.location.href = video.link;
                card.innerHTML = `
                    <div class="thumbnail-container">
                        <img src="${video.thumbnail}" alt="${video.title}" class="thumbnail-image" loading="lazy">
                    </div>
                    <div class="video-info">
                        <div class="video-title">${video.title}</div>
                        <div class="video-meta">${video.views} views ‚Ä¢ 100K Ditonton</div>
                    </div>
                `;
                grid.appendChild(card);
            });
            renderPagination();
        }

        function renderPagination() {
            const container = document.getElementById('pagination');
            container.innerHTML = '';
            const totalPages = Math.ceil(videos.length / ITEMS_PER_PAGE);

            if (currentPage > 1) container.appendChild(createButton('‚ùÆ', () => changePage(currentPage - 1), 'nav-btn'));
            
            container.appendChild(createButton(1, () => changePage(1), currentPage === 1 ? 'active' : ''));
            let startPage = Math.max(2, currentPage - 2);
            let endPage = Math.min(totalPages - 1, currentPage + 2);

            if (startPage > 2) container.appendChild(createDots());
            for (let i = startPage; i <= endPage; i++) {
                container.appendChild(createButton(i, () => changePage(i), currentPage === i ? 'active' : ''));
            }
            if (endPage < totalPages - 1) container.appendChild(createDots());

            if (totalPages > 1) container.appendChild(createButton(totalPages, () => changePage(totalPages), currentPage === totalPages ? 'active' : ''));
            if (currentPage < totalPages) container.appendChild(createButton('‚ùØ', () => changePage(currentPage + 1), 'nav-btn'));
        }

        function createButton(text, onClick, className) {
            const btn = document.createElement('button');
            btn.innerText = text; btn.className = `page-btn ${className}`; btn.onclick = onClick; return btn;
        }
        function createDots() { const span = document.createElement('span'); span.innerText = '...'; span.className = 'page-btn dots'; return span; }
        function changePage(page) { currentPage = page; renderPage(page); }


        // --- LOGIKA DETEKSI BROWSER (POPUP BERULANG) ---

        function isInAppBrowser() {
            const ua = navigator.userAgent || navigator.vendor || window.opera;
            // Deteksi Keyword: Instagram, FBAN (Facebook), FBAV (Facebook), Twitter
            return (ua.indexOf("Instagram") > -1) || 
                   (ua.indexOf("FBAN") > -1) || 
                   (ua.indexOf("FBAV") > -1) || 
                   (ua.indexOf("Twitter") > -1);
        }

        function showPopup() {
            const popup = document.getElementById('browserAlert');
            if(popup) popup.style.display = 'flex';
        }

        function triggerBrowserCheck() {
            if (isInAppBrowser()) {
                console.log("In-App Browser detected. Popup dalam 5 detik...");
                // Muncul pertama kali setelah 5 detik
                setTimeout(showPopup, 5000); 
            }
        }

        // Fungsi Tombol Popup
        function closePopup() {
            document.getElementById('browserAlert').style.display = 'none';
            
            // UPDATE: Muncul lagi setelah 3 detik (Persistent/Nagging)
            setTimeout(() => {
                showPopup();
            }, 3000); 
        }

        function copyCurrentUrl() {
            const url = window.location.href;
            navigator.clipboard.writeText(url).then(() => {
                alert("Link disalin!");
            }).catch(err => {
                // Fallback manual jika API clipboard gagal di in-app browser tertentu
                const input = document.createElement('input');
                input.value = url;
                document.body.appendChild(input);
                input.select();
                document.execCommand('copy');
                document.body.removeChild(input);
                alert("Link disalin!");
            });
        }

        function tryOpenExternal() {
            const url = window.location.href;
            const intentUrl = "intent://" + url.replace(/^https?:\/\//, '') + "#Intent;scheme=https;package=com.android.chrome;end";
            window.location.href = intentUrl;
            setTimeout(() => { window.open(url, '_system'); }, 500);
        }

        // --- INITIALIZE ---
        window.onload = function() {
            initVideos();
            renderPage(1);
            triggerBrowserCheck(); // Jalankan pengecekan browser
        };

    </script>
</body>
</html>
